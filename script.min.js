jQuery(document).ready(function(n){function e(n){n.preventDefault(),n.stopPropagation()}function a(n,e){n.removeClass("hide"),e.addClass("hide")}function t(){p=1,h++,f.text(h),b=window.setTimeout(t,1e3)}function s(){window.clearTimeout(b),n("span#modaltime").text(r(h)),n("div#game-complete-modal").openModal({dismissible:!1}),p=0,h=0,f.text(h)}function o(){window.clearTimeout(b),p=0,h=0,f.text(h)}function r(n){var e=Math.floor(n/60),a=n%60;return 10>a&&(a="0"+a),e+":"+a}function d(){var e=n("input.answer");n("input#blank").focus(),e.bind("blur",function(){var e=n(this);u(e)||e.removeClass("orange").addClass("red")}),e.bind("focus",function(){p||t(),n(this).addClass("orange lighten-4").val("")}),1==y?c(e):l(e)}function l(e){function a(){var e=n("input.unanswered");e.attr("disabled","disabled").addClass("grey lighten-2"),index=Math.floor(Math.random()*e.length);var a=n(e[index]);a.removeAttr("disabled").removeClass("grey lighten-2").focus()}var t=e.length-1;n("input.unanswered").first().focus(),e.bind("keyup",function(){var e=n(this);u(e)&&(e.removeClass("orange").addClass("green").attr("disabled","disabled").removeClass("unanswered"),t--,t>=0?a():s())})}function c(e){var a=e.length;e.bind("keyup",function(){var e=n(this);u(e)&&(e.removeClass("orange").addClass("green").attr("disabled","disabled").removeClass("unanswered"),a--,a>0?n("input.unanswered").first().focus():s())})}function u(n){var e=parseInt(n.attr("data-x"))*parseInt(n.attr("data-y")),a=parseInt(n.val());return a==e}function m(n){parseInt(n.css("margin-top")),parseInt(n.css("margin-bottom")),parseInt(n.innerHeight());return parseInt(n.innerHeight())+parseInt(n.css("margin-top"))+parseInt(n.css("margin-bottom"))}function g(){var e=parseInt(n(window).innerHeight())-(m(I)+m(k));console.log(e),n("body>main").css("min-height",e+"px")}var v=n("div#gameboard"),f=n("span#time"),p=0,h=0,b="",w=1,y=1,C=n("div#options");n("a#play").click(function(t){e(t),w=n("input#grid-size").val(),y=n("input#difficulty").is(":checked")?1:0,loadGameBoard(w),a(v,C)}),loadGameBoard=function(n){for(o(),html="<div class='grow row-0'><div class='gcol white'>&nbsp;</div>",i=1;i<=n;i++)html+="<div class='gcol blue-grey lighten-3'>"+i+"</div>";for(html+="</div>",i=1;i<=n;i++){for(html+="<div class='grow row-"+i+"'><div class='gcol blue-grey lighten-3'><strong>"+i+"</strong></div>",j=1;j<=n;j++)html+="<div class='gcol'><input type='text' class='answer unanswered' data-x='"+i+"' data-y='"+j+"' maxlength='3' /></div>";html+="</div>"}html+="<p class='flow-text center-align'>Choose A Square And Off You Go</p>",v.html(html),d()},n("a.playagain").click(function(t){e(t),n("div#game-complete-modal").closeModal(),o(),a(C,v)});var x=n(window),I=n("body>nav"),k=n("body>footer");n("body>main");x.bind("resize",g),g()});